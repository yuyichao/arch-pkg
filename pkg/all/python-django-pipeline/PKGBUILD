# Maintainer: Stefan Tatschner <stefan@sevenbyte.org>

pkgbase='python-django-pipeline'
pkgname=('python-django-pipeline' 'python2-django-pipeline')
_pkgname='django-pipeline'
pkgver=1.3.24
pkgrel=2
pkgdesc="An asset packaging library for Django"
arch=('any')
url="https://github.com/cyberdelia/django-pipeline"
license=('MIT')
optdepends=('nodejs-yuglify: Pipelineâ€™s default CSS and JS compressor')
source=("https://pypi.python.org/packages/source/d/${_pkgname}/${_pkgname}-${pkgver}.tar.gz")
md5sums=('4bdb8afb6389127a81b53f70dcad1b0c')

package_python-django-pipeline() {
  depends=('python-django')
  makedepends=('python-setuptools')

  cd "${srcdir}/${_pkgname}-${pkgver}"
  python setup.py install --prefix=/usr --root="${pkgdir}" --optimize=1
}

package_python2-django-pipeline() {
  depends=('python2-django' 'python2-futures')
  makedepends=('python2-setuptools')

  cd "${srcdir}/${_pkgname}-${pkgver}"
  python2 setup.py install --prefix=/usr --root="${pkgdir}" --optimize=1
}
